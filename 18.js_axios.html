<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>js axios</title>
  </head>
  <body>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
      async function postApi1() {
        const response1 = await axios.get(
          "https://jsonplaceholder.typicode.com/posts/1"
        );
        // axios 를 통한 데이터 호출 시, .data 해줘야 함에 유의 !
        console.log(response1.data); // 배열 안에 객체가 들어있는 형식.
      }
      async function postApi2() {
        // 처음엔 try-catch 없이 실습.
        // try-catch 로 묶어주는게 보편적.
        // 예외 발생 가능성이 높은 부분을 try 로 감싸줌.
        try {
          const response2 = await axios.get(
            "https://jsonplaceholder.typicode.com/posts"
          );
          console.log(response2.data);
          // 배열 안의 객체를 UserId : 1 | Id : 1 | Title : xx | Contents : xx 형식으로 출력
          const tmp = response2.data;
          tmp.forEach((element) => {
            console.log("========================");
            console.log("UserId : " + element.userId);
            console.log("Id : " + element.id);
            console.log("Title : " + element.title);
            console.log("Contents : " + element.body);
            console.log("========================");

            // 백틱으로 한 번에 쓸 수 있다 !
            // console.log(`user_id : ${element.userId}`);
          });
        } catch (e) {
          console.log(e);
        }
      }
      postApi1();
      postApi2();
    </script>
  </body>
</html>
