<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>js_Basic</title>
    <script>
      function showObject() {
        // 객체는 {}, 배열은 [];
        let person = { name: "hong", age: 20, email: "hong@naver.com" };
        // 객체 접근 방법 1
        console.log(
          "이름은 " +
            person.name +
            " 이고, email 은 " +
            person.email +
            " 입니다."
        );
        person.name = "kim"; // 객체 접근 후 변경 가능.

        // 객체 접근 방법 2 : person['name']
        console.log("이름은 " + person["name"]);

        // Object.keys : 객체의 키를 배열로 반환.
        const arr = Object.keys(person);
        const arr2 = Object.values(person);
        for (let i = 0; i < arr.length; i++) {
          console.log(person[arr[i]]);
        }
        // Object.keys(person); > 키 값 가져옴
        // Object.values(person); > 밸류 값 가져옴

        // 아래처럼 간단하게 할 수 있다.
        arr.forEach((k) => console.log(person[k]));
        arr.forEach((k) => {
          console.log(person[k]);
        });
      }
      function makeObject() {
        // 방법 1. 리터럴 방식 {} 중괄호를 사용하여 나열하는 방식이 리터럴 방식.
        let myObjectLiteral = {
          name: "hong",
          email: "test@test.com",
          password: "1234",
        };

        // 방법 2. 동적으로 키와 값을 추가
        let myObject = {};
        myObject.name = "hong";
        myObject.email = "hong@naver.com";
        myObject["password"] = "1234";
        console.log(myObject);

        // 위 객체를 Object.keys 를 통해서 value 만 console로 출력.
        const tmp = Object.keys(myObject);
        tmp.forEach((k) => console.log(myObject[k]));

        // name(key) : hong(value), email(key) : hong@naver.com(value) 만들기
        // 백틱을 활용한 템플릿 리터럴.
        let myString = "";
        arr.forEach((key) => {
          myString += `${key}(key) : ${myObject[key]}(value) <br>`;
        });
        document.getElementById("result").innerHTML = myString;

        const name = "kim";
        const age = 30;
        const person1 = { name: name, age: age };
        // 단축 속성명 방식
        // 속성명을 변수명과 동일하게 사용할 때, 간편하게 객체 생성하는 방식
        const person2 = { name, age };

        const obj1 = { key1: "value1" };
        const obj2 = { obj1: { key1: "value1" } }; // 단축 속성명. 암기 필수 !
        console.log(obj2);

        // 스프레드 문법
        const obj3 = { a: 1, b: 2 };
        const obj4 = { ...obj3, c: 3 }; // 배열에서도 스프레드 문법 사용 가능
      }
      function makeArray() {
        let fruits = ["apple", "banana", "orange"];
        // 값 넣기
        fruits.push("cherry");
        console.log(fruits);

        // pop : 마지막 요소 제거
        fruits.pop();
        console.log(fruits);

        // 배열의 접근 [index]
        console.log(fruits[1]);

        // 배열 요소의 수정
        fruits[1] = "peach";
        console.log(fruits);

        // for문
        for (let i = 0; i < fruits.length; i++) {
          console.log(fruits[i]);
        }

        for (const f of fruits) {
          console.log(f);
        }

        fruits.forEach((a) => console.log(a));
        fruits.forEach((a, b) => console.log("a : " + a + " b : " + b)); // a 에는 값, b 에는 인덱스 !

        // filter 메서드
        const num1 = [1, 2, 3, 4, 5, 6];
        // 짝수인 요소만 뽑아 새로운 배열 생성 후 출력.
        console.log(num1.filter((a) => a % 2 == 0));

        // map 메서드
        const newNum = num1.filter((a) => a % 2 == 0).map((n) => n * n);
        console.log(newNum);
        console.log(num1.find((a) => a % 2 == 0));

        let users = [
          { firstName: "Susan", lastName: "Steward" },
          { firstName: "Daniel", lastName: "Longbottom" },
          { firstName: "Jacob", lastName: "Black" },
        ];

        let userFullnames1 = users.map(function (element) {
          return `${element.firstName} ${element.lastName}`;
        });

        console.log(userFullnames);
        // ["Susan Steward", "Daniel Longbottom", "Jacob Black"]

        // 스프레드 문법
        const num2 = [...num1, 7, 8, 9];
        console.log(num2);
      }

      function practice() {
        let people = [
          { name: "kim", age: 30 },
          { name: "lee", age: 26 },
          { name: "park", age: 35 },
        ];
        // 나이가 30세 이상인 사람을 담은 새로운 배열
        let newPeople1 = people.filter((a) => a.age >= 30);

        // 기존 객체에 모두 email : test@test.com 의 한 쌍의 값 추가.
        // 객체를 넣어주어야 함. 노란색은 객체 문법 - 파란색은 함수 문법 ~!
        let newPeople2 = people.map((p) => {
          return { ...p, email: "test@test.com" };
        });

        const arr1 = { 1: "name1", 2: "name2" };
        const arr2 = [
          { id: 1, name: "name1", email: "name1@test.com" },
          { id: 2, name: "name2", email: "name2@test.com" },
        ];

        // arr1 에 있는 key 값이 arr2 에 id 값으로 있다면, 해당 arr2 의 요소로 이루어진 새로운 객체를 생성.
        // arr1 의 키 값을 가진 tmp 배열을 생성 > tmp 배열 forEach문으로 arr2 의 아이디랑 같으면 value 값 가져오기

        // 아영이 코드 > 디벨롭 필요함 ㅠ.ㅠ
        // const tmp = Object.keys(arr1); // arr1 에 있는 key 값을 tmp 배열에 넣어줌.

        // key 를 대상으로 map 을 만들기
        const arr3 = Object.keys(arr1).map((a) => {
          const p1 = arr2.find((b) => b.id == a);
          console.log(p1);
        });
      }
      function convertType() {
        let numStr = "10";
        let str = "hello";
        let num1 = Number(numStr);
        console.log(num1); // 10.
        // typeof : 변수의 타입 리턴
        console.log(typeof num1); // number
        num1 = String(num1);
        console.log(typeof num1); // string

        // == ===
        console.log(10 == "10"); // true
        console.log(10 === "10"); // false

        // undefined, null 의 비교
        let output1;
        let output2 = null;
        console.log(typeof output1);
        console.log(typeof output2);
        console.log(output1 == output2); // true
        console.log(output1 === output2); // false
      }
    </script>
  </head>
  <body>
    <h2>js 객체</h2>
    <button onclick="showObject()">객체 조회</button>
    <button onclick="makeObject()">객체 생성</button>
    <button onclick="makeArray()">배열 생성 및 조회</button>
    <button onclick="practice()">filter, map, find practice</button>
    <button onclick="convertType()">형 변환</button>
    <p id="result"></p>
  </body>
</html>
